!function(){function e(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}System.register(["./vendor-legacy.c5ea17cc.js","./lodash-legacy.edf0d0f8.js","./konva-legacy.871713ed.js"],(function(t,r){"use strict";var i,o,a,n,l,s,d,c,h,p,u,f,v,g,m,x,b,y,w,R,z,C,$,T,O,S,W;return{setters:[e=>{i=e.s,o=e.B,a=e.H,n=e.a,l=e.aC,s=e.q,d=e.r,c=e.u,h=e._,p=e.j,u=e.w,f=e.x,v=e.aD,g=e.aE,m=e.aF,x=e.f,b=e.i,y=e.k,w=e.R,R=e.l,z=e.n,C=e.G},e=>{$=e.t,T=e._,O=e.i,S=e.a},e=>{W=e.K}],execute:function(){const r=["children","className","color","disabled","disableFocusRipple","fullWidth","onChange","onClick","selected","size","value"],k=i(o,{name:"MuiToggleButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`size${a(r.size)}`]]}})((({theme:e,ownerState:t})=>{let r,i="standard"===t.color?e.palette.text.primary:e.palette[t.color].main;return e.vars&&(i="standard"===t.color?e.vars.palette.text.primary:e.vars.palette[t.color].main,r="standard"===t.color?e.vars.palette.text.primaryChannel:e.vars.palette[t.color].mainChannel),n({},e.typography.button,{borderRadius:(e.vars||e).shape.borderRadius,padding:11,border:`1px solid ${(e.vars||e).palette.divider}`,color:(e.vars||e).palette.action.active},t.fullWidth&&{width:"100%"},{[`&.${l.disabled}`]:{color:(e.vars||e).palette.action.disabled,border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:s(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${l.selected}`]:{color:i,backgroundColor:e.vars?`rgba(${r} / ${e.vars.palette.action.selectedOpacity})`:s(i,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${r} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:s(i,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${r} / ${e.vars.palette.action.selectedOpacity})`:s(i,e.palette.action.selectedOpacity)}}}},"small"===t.size&&{padding:7,fontSize:e.typography.pxToRem(13)},"large"===t.size&&{padding:15,fontSize:e.typography.pxToRem(15)})})),M=d.exports.forwardRef((function(e,t){const i=c({props:e,name:"MuiToggleButton"}),{children:o,className:l,color:s="standard",disabled:d=!1,disableFocusRipple:g=!1,fullWidth:m=!1,onChange:x,onClick:b,selected:y,size:w="medium",value:R}=i,z=h(i,r),C=n({},i,{color:s,disabled:d,disableFocusRipple:g,fullWidth:m,size:w}),$=(e=>{const{classes:t,fullWidth:r,selected:i,disabled:o,size:n,color:l}=e,s={root:["root",i&&"selected",o&&"disabled",r&&"fullWidth",`size${a(n)}`,l]};return f(s,v,t)})(C);return p(k,n({className:u($.root,l),disabled:d,focusRipple:!g,ref:t,onClick:e=>{b&&(b(e,R),e.defaultPrevented)||x&&x(e,R)},onChange:x,value:R,ownerState:C,"aria-pressed":y},z,{children:o}))}));function P(e,t){return void 0!==t&&void 0!==e&&(Array.isArray(t)?t.indexOf(e)>=0:e===t)}const _=["children","className","color","disabled","exclusive","fullWidth","onChange","orientation","size","value"],L=i("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`& .${g.grouped}`]:t.grouped},{[`& .${g.grouped}`]:t[`grouped${a(r.orientation)}`]},t.root,"vertical"===r.orientation&&t.vertical,r.fullWidth&&t.fullWidth]}})((({ownerState:e,theme:t})=>n({display:"inline-flex",borderRadius:(t.vars||t).shape.borderRadius},"vertical"===e.orientation&&{flexDirection:"column"},e.fullWidth&&{width:"100%"},{[`& .${g.grouped}`]:n({},"horizontal"===e.orientation?{"&:not(:first-of-type)":{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},"&:not(:last-of-type)":{borderTopRightRadius:0,borderBottomRightRadius:0},[`&.${g.selected} + .${g.grouped}.${g.selected}`]:{borderLeft:0,marginLeft:0}}:{"&:not(:first-of-type)":{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},"&:not(:last-of-type)":{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`&.${g.selected} + .${g.grouped}.${g.selected}`]:{borderTop:0,marginTop:0}})}))),j=d.exports.forwardRef((function(e,t){const r=c({props:e,name:"MuiToggleButtonGroup"}),{children:i,className:o,color:l="standard",disabled:s=!1,exclusive:v=!1,fullWidth:g=!1,onChange:x,orientation:b="horizontal",size:y="medium",value:w}=r,R=h(r,_),z=n({},r,{disabled:s,fullWidth:g,orientation:b,size:y}),C=(e=>{const{classes:t,orientation:r,fullWidth:i,disabled:o}=e,n={root:["root","vertical"===r&&"vertical",i&&"fullWidth"],grouped:["grouped",`grouped${a(r)}`,o&&"disabled"]};return f(n,m,t)})(z),$=(e,t)=>{if(!x)return;const r=w&&w.indexOf(t);let i;w&&r>=0?(i=w.slice(),i.splice(r,1)):i=w?w.concat(t):[t],x(e,i)},T=(e,t)=>{x&&x(e,w===t?null:t)};return p(L,n({role:"group",className:u(C.root,o),ref:t,ownerState:z},R,{children:d.exports.Children.map(i,(e=>d.exports.isValidElement(e)?d.exports.cloneElement(e,{className:u(C.grouped,e.props.className),onChange:v?T:$,selected:void 0===e.props.selected?P(e.props.value,w):e.props.selected,size:e.props.size||y,fullWidth:g,color:e.props.color||l,disabled:e.props.disabled||s}):null))}))}));var D={},E=b.exports;Object.defineProperty(D,"__esModule",{value:!0});var B=D.default=void 0,N=E(x()),F=y,I=(0,N.default)((0,F.jsx)("path",{d:"M18 4H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H6V6h12v12z"}),"CropSquare");B=D.default=I;var A={},H=b.exports;Object.defineProperty(A,"__esModule",{value:!0});var U=A.default=void 0,G=H(x()),V=y,q=(0,G.default)((0,V.jsx)("path",{d:"M5 4v3h5.5v12h3V7H19V4z"}),"Title");U=A.default=q;var K={},X=b.exports;Object.defineProperty(K,"__esModule",{value:!0});var Y=K.default=void 0,J=X(x()),Q=y,Z=(0,J.default)((0,Q.jsx)("path",{d:"m17.27 6.73-4.24 10.13-1.32-3.42-.32-.83-.82-.32-3.43-1.33 10.13-4.23M21 3 3 10.53v.98l6.84 2.65L12.48 21h.98L21 3z"}),"NearMeOutlined");Y=K.default=Z;const ee=e=>"light"===e.palette.mode?e.palette.common.white:"transparent",te=w.memo((()=>R(C,{sx:{width:74,padding:"8px 0",height:"100%",overflow:"auto",display:"flex",justifyContent:"center",flex:"none",backgroundColor:e=>ee(e)},children:z(j,{size:"large",color:"primary",orientation:"vertical",exclusive:!0,value:"select",sx:{bgcolor:e=>ee(e)},children:[R(M,{value:"select","aria-label":"select",children:R(Y,{sx:{transform:"scaleX(-1)"}})}),R(M,{value:"square","aria-label":"square",children:R(B,{})}),R(M,{value:"text","aria-label":"text",children:R(U,{})})]})}))),re=w.memo((()=>R(C,{sx:{position:"absolute",top:0,left:0,width:1,height:1,zIndex:-1},children:z("svg",{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",children:[z("defs",{children:[R("pattern",{id:"smallGrid",width:"10",height:"10",patternUnits:"userSpaceOnUse",children:R("path",{d:"M 10 0 L 0 0 0 10",fill:"none",stroke:"rgba(207, 207, 207, 0.3)",strokeWidth:1})}),z("pattern",{id:"grid",width:"50",height:"50",patternUnits:"userSpaceOnUse",children:[R("rect",{width:"50",height:"50",fill:"url(#smallGrid)"}),R("path",{d:"M 50 0 L 0 0 0 50",fill:"none",stroke:"rgba(186, 186, 186, 0.5)",strokeWidth:1})]})]}),R("rect",{width:"100%",height:"100%",fill:"url(#grid)"})]})})));const ie=w.memo((({children:e})=>R(C,{sx:{position:"relative",overflow:"hidden",flex:"none",width:320,backgroundColor:e=>ee(e)},children:e})));class oe extends W.Layer{constructor(t,r,i){if(super({name:"Template",listening:!1,imageSmoothingEnabled:!0}),e(this,"_width",void 0),e(this,"_height",void 0),!t||t<=0)throw new Error("width not empty");if(!r||r<=0)throw new Error("height not empty");this._width=t,this._height=r,this.renderTemplate(i)}Size(e=!0){return e?{width:Oe.sizeToDPI(this._width),height:Oe.sizeToDPI(this._height)}:{width:this._width,height:this._height}}renderTemplate(e){const{width:t,height:r}=this.Size(),i=new W.Rect({name:"Template",width:t,height:r,fill:"#ffffff",x:0,y:0,strokeWidth:0,cornerRadius:0}),o=e.width(),a=e.height(),n=Math.min(.8*o/t,.8*a/r),l=Oe.toFixed(n,1);e.scale({x:l,y:l}),e.x(o/2-t*l/2),e.y(a/2-r*l/2),this.add(i)}}class ae extends W.Stage{initEvent(e){e.forEach((e=>e.apply(this,[this])))}}var ne=$,le=1/0;var se=function(e){return e?(e=ne(e))===le||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0};var de=function(e){var t=se(e),r=t%1;return t==t?r?t-r:t:0};var ce=function(e,t){for(var r=-1,i=null==e?0:e.length,o=Array(i);++r<i;)o[r]=t(e[r],r,e);return o},he=Array.isArray,pe=ce,ue=he,fe=O,ve=T?T.prototype:void 0,ge=ve?ve.toString:void 0;var me=function e(t){if("string"==typeof t)return t;if(ue(t))return pe(t,e)+"";if(fe(t))return ge?ge.call(t):"";var r=t+"";return"0"==r&&1/t==-Infinity?"-0":r},xe=me;var be=de,ye=$,we=function(e){return null==e?"":xe(e)},Re=S.isFinite,ze=Math.min;var Ce=function(e){var t=Math[e];return function(e,r){if(e=ye(e),(r=null==r?0:ze(be(r),292))&&Re(e)){var i=(we(e)+"e").split("e"),o=t(i[0]+"e"+(+i[1]+r));return+((i=(we(o)+"e").split("e"))[0]+"e"+(+i[1]-r))}return t(e)}}("floor");const $e={DPI:16,sizeToDPI:e=>e*$e.DPI,toFixed:(e,t)=>Ce(e,t),isMac:()=>window.navigator.platform.toUpperCase().indexOf("MAC")>=0};function Te(e){const t=e.getChildren().find((e=>"Template"===e.name()));document.addEventListener("wheel",(e=>e.preventDefault()),{passive:!1}),e.on("wheel",(({evt:r})=>{r.preventDefault(),r.stopPropagation(),console.log();if(!(Oe.isMac()?r.metaKey:r.ctrlKey))return;if(!t)return;let i=e.scaleX();const o=e.width(),a=e.height(),{width:n,height:l}=t.Size(),s=e.getPointerPosition().x/i-e.x()/i,d=e.getPointerPosition().y/i-e.y()/i,c=r.deltaY;i=Oe.toFixed(i*.999**c,2),i>20&&(i=20),i<.1&&(i=.1);const h=n*i,p=l*i,u={x:(o-h)/2,y:(a-p)/2};(h>.8*o||p>.8*a)&&(u.x=-(s-e.getPointerPosition().x/i)*i,u.y=-(d-e.getPointerPosition().y/i)*i),e.scale({x:i,y:i}),e.position(u),e.batchDraw()}))}const Oe=W.Util._assign($e,{Stage:ae,Template:oe});t("default",(()=>{const{Content:e,contentRef:t}=function(){const e=d.exports.createRef(),t=w.memo((()=>z(C,{sx:{flex:1,minWidth:"1px",minHeight:"1px",position:"relative",overflow:"hidden"},children:[R(C,{ref:e,className:"container",style:{width:"100%",height:"100%"}}),R(re,{})]})));return{Content:d.exports.useCallback((()=>R(t,{})),[]),contentRef:e}}();return d.exports.useEffect((()=>{if(!t.current)return;const e=t.current,{clientWidth:r,clientHeight:i}=e,o=new Oe.Stage({container:e,width:r,height:i}),a=new Oe.Template(50,30,o);o.add(a),o.initEvent([Te])}),[]),z(C,{sx:{width:1,height:1,position:"relative",display:"flex"},children:[R(te,{}),R(e,{}),R(ie,{})]})}))}}}))}();
